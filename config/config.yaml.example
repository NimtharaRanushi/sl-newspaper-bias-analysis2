# Sri Lanka Media Bias Detector Configuration
# Copy this file to config.yaml and fill in your credentials

database:
  host: localhost
  port: 5432
  name: your_database
  schema: your_schema
  user: your_db_user
  password: "YOUR_DATABASE_PASSWORD_HERE"  # Replace with your password

# LLM Configuration - supports claude, openai, or local
llm:
  provider: claude  # claude | openai | local
  model: claude-sonnet-4-20250514
  api_key: "YOUR_API_KEY_HERE"  # Optional: only needed for LLM features
  temperature: 0.0
  max_tokens: 4096

# Embeddings (local = free, uses sentence-transformers)
embeddings:
  provider: local  # local | openai
  model: all-mpnet-base-v2  # all-mpnet-base-v2 | google/embeddinggemma-300m
  batch_size: 64

  # EmbeddingGemma-specific options (ignored for other models)
  task: null                 # auto-detect from analysis type, or specify: clustering | classification | retrieval
  matryoshka_dim: null       # null (use 768) or 512 | 256 | 128 for smaller dimensions

# Topic Modeling
topics:
  min_topic_size: 10
  diversity: 0.5

  # Named Entity Filtering (requires NER analysis to be run first)
  filter_ner_entities: false     # Set to true to exclude named entities from topic keywords
  ner_entity_types: null          # Filter specific types: [PERSON, ORG, GPE] or null for all

# Analysis
analysis:
  batch_size: 50
  max_concurrent: 5
  tone_scale: [-5, 5]

# Clustering
clustering:
  similarity_threshold: 0.8
  min_cluster_size: 2
  time_window_days: 7

# Word Frequency Analysis
word_frequency:
  ranking_method: frequency  # frequency | tfidf
  tfidf_scope: per_source    # per_source | cross_source
  top_n_words: 50
  min_word_length: 3
  custom_stopwords:
    - sri
    - lanka
    - lankan
    - colombo
    - yesterday
    - said
    - also
    - according

# Named Entity Recognition
ner:
  provider: spacy              # spacy | gliner
  model: en_core_web_trf      # spaCy: en_core_web_trf | GLiNER: glomr-multi-v2.1
  batch_size: 32
  confidence_threshold: 0.5    # Minimum confidence to store entity

  # Entity types to extract (spaCy defaults)
  entity_types:
    - PERSON                   # People, including fictional
    - ORG                      # Organizations, companies, agencies
    - GPE                      # Geopolitical entities (countries, cities, states)
    - LOC                      # Non-GPE locations (mountains, rivers)
    - DATE                     # Dates or periods
    - TIME                     # Times smaller than a day
    - MONEY                    # Monetary values
    - PERCENT                  # Percentages
    - EVENT                    # Named events (e.g., "World Cup")
    - PRODUCT                  # Objects, vehicles, foods
    - NORP                     # Nationalities, religious/political groups
    - FAC                      # Buildings, airports, highways, bridges
    - LAW                      # Named documents made into laws

  # For GLiNER (if used)
  custom_entity_types:
    - Political Party
    - Government Agency
    - Crisis Event
    - Media Outlet

# Summarization
summarization:
  method: textrank  # textrank | lexrank | bart | t5 | pegasus | led | longt5 | bigbird-pegasus | claude | gpt
  summary_length: medium  # short | medium | long
  short_sentences: 3
  short_words: 50
  medium_sentences: 5
  medium_words: 100
  long_sentences: 8
  long_words: 150
  max_input_length: 1024  # Max tokens for standard models (ignored for long-context models)
  chunk_long_articles: true  # Split articles longer than max_input_length
  llm_model: claude-sonnet-4-20250514  # Used when method is 'claude' or 'gpt'
  llm_temperature: 0.0

# Sentiment Analysis
sentiment:
  enabled_models:              # Models to run (comment out to disable)
    - roberta                  # Twitter-trained RoBERTa
    - distilbert               # General-purpose sentiment
    - finbert                  # Financial/economic news
    - vader                    # Lexicon-based, very fast
    - textblob                 # Pattern-based, simple
